{%extends 'layout.html'%}
{%block navigation%}{%endblock navigation%}
{%block content%}

<!-- Main Container with Calming Background -->
<div class="container-fluid d-flex flex-column align-items-center justify-content-center" style="min-height: 100vh; padding: 3rem 0;">
  
  <!-- Section 1: Image and CTA -->
  <div class="row w-100 d-flex align-items-center justify-content-center" style="max-width: 1100px; gap: 2rem;">
    
    <!-- Left Column (Image) -->
    <div class="col-md-5 text-center">
      <img
        src="{{url_for('static',filename='images/ai.webp')}}"
        alt="Mental Health Chatbot"
        class="rounded-circle shadow-lg"
        style="width: 20rem; height: 20rem; transition: transform 0.3s ease;"
        onmouseover="this.style.transform='scale(1.05)';"
        onmouseout="this.style.transform='scale(1)';"
      />
      <h2 class="mt-3 fw-bold" style="font-family: 'Poppins', sans-serif; color: #558c8a;">
        Your Wellness Companion
      </h2>
      <p class="text-muted" style="font-size: 1.1rem; max-width: 20rem; margin: auto;">
        Find peace, advice, and personal support, anytime you need it.
      </p>
    </div>
    
    <!-- Right Column (CTA) -->
    <div class="col-md-5 d-flex flex-column align-items-center gap-3">
      
      <!-- Chat Now / Login Button -->
      <div class="card shadow-sm w-100 p-4" style="border-radius: 1.5rem; background-color: rgba(255, 255, 255, 0.9);">
        <h3 class="text-center mb-3" style="font-family: 'Poppins', sans-serif; color: #004d40;">
          Ready to Start?
        </h3>
        {% if current_user.is_authenticated %}
          <a
            class="btn btn-gradient w-100"
            style="
              padding: 1rem;
              font-size: 1.2rem;
              border-radius: 1.5rem;
              background: linear-gradient(135deg, #80cbc4, #aed581);
              color: white;
            "
            href="{{url_for('chatbot.chat')}}"
          >
            Chat Now
          </a>
        {% else %}
          <button
            class="btn btn-gradient w-100"
            style="
              padding: 1rem;
              font-size: 1.2rem;
              border-radius: 1.5rem;
              background: linear-gradient(135deg, #80cbc4, #aed581);
              color: white;
            "
            data-bs-toggle="modal"
            data-bs-target="#entryModal"
          >
            Login / Register
          </button>
        {% endif %}
      </div>

      <!-- About Us Button -->
      <a
        href="{{url_for('main.about')}}"
        class="btn btn-outline-info w-100"
        style="
          padding: 1rem;
          font-size: 1.1rem;
          border-radius: 1.5rem;
          border-color: #558c8a;
          color: #004d40;
        "
      >
        Learn More About Us
      </a>

      <!-- Logout Option for Authenticated Users -->
      {% if current_user.is_authenticated %}
        <a
          href="{{url_for('users.logout')}}"
          class="btn btn-outline-secondary w-100"
          style="
            padding: 1rem;
            font-size: 1rem;
            border-radius: 1.5rem;
            color: #004d40;
            border-color: #004d40;
          "
        >
          Logout
        </a>
      {% endif %}
    </div>
  </div>
</div>

<!-- Modal for Login/Register -->
<div class="modal fade" id="entryModal" tabindex="-1" aria-labelledby="entryModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content" style="border-radius: 1rem;">
      <div class="modal-header border-bottom-0">
        <h1 class="modal-title fw-bold" style="font-family: 'Poppins', sans-serif; font-size: 1.8rem; color: #004d40;">
          Login / Register
        </h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col text-center">
            <small class="text-muted">Already have an account?</small>
            <a
              class="btn btn-outline-info btn-lg mt-2"
              style="border-radius: 1.2rem; border-color: #80cbc4; color: #004d40;"
              href="{{url_for('users.login')}}"
            >
              Login Now
            </a>
          </div>
          <div class="col text-center">
            <small class="text-muted">New to our community?</small>
            <a
              class="btn btn-outline-info btn-lg mt-2"
              style="border-radius: 1.2rem; border-color: #80cbc4; color: #004d40;"
              href="{{url_for('users.register')}}"
            >
              Register Now
            </a>
          </div>
        </div>
      </div>
      <div class="modal-footer text-center">
        <h1 class="modal-title fw-bold" style="font-family: 'Poppins', sans-serif; font-size: 1.5rem; color: #00796b;">
          Or Continue as Guest
        </h1>
        <a
          class="btn btn-outline-info btn-lg mt-2"
          style="border-radius: 1.2rem; border-color: #80cbc4; color: #004d40;"
          href="{{url_for('chatbot.chat')}}"
        >
          Continue as Guest
        </a>
      </div>
    </div>
  </div>
</div>

{%endblock content%}
